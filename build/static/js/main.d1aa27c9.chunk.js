(window.webpackJsonpmemoryapp=window.webpackJsonpmemoryapp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5f2d9065.jpg"},,,function(e,t,n){e.exports=n(24)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),o=n(1),s=n(2),u=n.n(s),d=n(5),l=n(6),m=n(7),f=n(10),h=n(8),v=n(11),p=(n(18),n(19),function(){return r.a.createElement("h1",{className:"header__heading"},"Memory App")}),b=(n(20),n(21),n(9)),g={background:"url(".concat(n.n(b).a,") no-repeat center center/cover"),backgroundColor:"#eb1c24",backgroundSize:"100%"},E=function(e){var t=["card__img"];e.isDiscovered&&t.push("card__img--show");var n=["card"];e.enable||n.push("card--disabled");var a=r.a.createElement("div",{onClick:function(){return e.click(e.id)},className:"card__card-wrapper"},r.a.createElement("img",{className:t.join(" "),src:e.url,alt:"w"}));return r.a.createElement("div",{className:n.join(" "),style:g},e.enable&&a)},O=function(e){var t=e.cards.map(function(t){return r.a.createElement(E,{key:Math.floor(1e5*Math.random()),id:t.id,url:t.url,isDiscovered:t.isDiscovered,click:e.click,enable:t.enable})});return r.a.createElement(r.a.Fragment,null,t)},k=(n(22),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"footer__copyright"},"Copyright \xa9 1999"))}),C=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={cards:[],isFirstMove:!0,isRoundOver:!0,currentChoice:{name:"",id:""},count:0},n.fetchData=Object(d.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/data/cards.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n.prepareData(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in fetchData: ".concat(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])})),n.prepareData=function(e){for(var t=JSON.stringify(e),a=JSON.stringify(e),r=[].concat(Object(o.a)(JSON.parse(t)),Object(o.a)(JSON.parse(a))),c=0;c<r.length;c++){var i=Math.floor(Math.random()*r.length),s=[r[i],r[c]];r[c]=s[0],r[i]=s[1]}r=r.map(function(e){var t=Math.floor(1e6*Math.random());return e.id="id".concat(t),e}),n.setState({cards:r})},n.hideCards=function(){new Promise(function(e,t){setTimeout(function(){e(1)},2e3)}).then(function(e){var t=Object(o.a)(n.state.cards);t.forEach(function(e){return e.isDiscovered=!1}),n.setState({cards:t,isRoundOver:!0,currentChoice:{name:"",id:""}})})},n.removeCards=function(e,t){new Promise(function(e,t){setTimeout(function(){e()},1e3)}).then(function(a){Object(o.a)(n.state.cards).filter(function(n){return n.id!==e&&n.id!==t||(n.enable=!1),n})})},n.handleClick=function(e){if(n.state.isRoundOver){var t=Object(o.a)(n.state.cards),a=t.findIndex(function(t){return t.id===e}),r=t[a].name;t[a].isDiscovered=!0,r===n.state.currentChoice.name&&e!==n.state.currentChoice.id&&n.removeCards(e,n.state.currentChoice.id),n.setState(function(n){return{cards:t,isFirstMove:!n.isFirstMove,isRoundOver:n.isFirstMove,currentChoice:n.isFirstMove?{id:e,name:r}:n.currentChoice,count:n.isFirstMove?n.count:n.count+1}}),n.state.isFirstMove||n.hideCards()}},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e;return-1===this.state.cards.findIndex(function(e){return e.enable})&&this.state.count>0&&(e=r.a.createElement("h2",null,"Wygra\u0142e\u015b w ",this.state.count," rundzie")),r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"header"},r.a.createElement(p,null),e),r.a.createElement("main",{className:"board"},r.a.createElement(O,{cards:this.state.cards,click:this.handleClick})),r.a.createElement("footer",{className:"footer"},r.a.createElement(k,null))))}}]),t}(a.Component);n(23);i.a.render(r.a.createElement(C,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.d1aa27c9.chunk.js.map